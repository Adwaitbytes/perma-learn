{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = deepHash;\nconst common_1 = require(\"../common\");\nasync function deepHash(data) {\n  if (Array.isArray(data)) {\n    const tag = common_1.default.utils.concatBuffers([common_1.default.utils.stringToBuffer(\"list\"), common_1.default.utils.stringToBuffer(data.length.toString())]);\n    return await deepHashChunks(data, await common_1.default.crypto.hash(tag, \"SHA-384\"));\n  }\n  const tag = common_1.default.utils.concatBuffers([common_1.default.utils.stringToBuffer(\"blob\"), common_1.default.utils.stringToBuffer(data.byteLength.toString())]);\n  const taggedHash = common_1.default.utils.concatBuffers([await common_1.default.crypto.hash(tag, \"SHA-384\"), await common_1.default.crypto.hash(data, \"SHA-384\")]);\n  return await common_1.default.crypto.hash(taggedHash, \"SHA-384\");\n}\nasync function deepHashChunks(chunks, acc) {\n  if (chunks.length < 1) {\n    return acc;\n  }\n  const hashPair = common_1.default.utils.concatBuffers([acc, await deepHash(chunks[0])]);\n  const newAcc = await common_1.default.crypto.hash(hashPair, \"SHA-384\");\n  return await deepHashChunks(chunks.slice(1), newAcc);\n}","map":{"version":3,"names":["Object","defineProperty","exports","value","default","deepHash","common_1","require","data","Array","isArray","tag","utils","concatBuffers","stringToBuffer","length","toString","deepHashChunks","crypto","hash","byteLength","taggedHash","chunks","acc","hashPair","newAcc","slice"],"sources":["C:/Users/adwai/perma-learn/frontend/node_modules/arweave/web/lib/deepHash.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.default = deepHash;\nconst common_1 = require(\"../common\");\nasync function deepHash(data) {\n    if (Array.isArray(data)) {\n        const tag = common_1.default.utils.concatBuffers([\n            common_1.default.utils.stringToBuffer(\"list\"),\n            common_1.default.utils.stringToBuffer(data.length.toString()),\n        ]);\n        return await deepHashChunks(data, await common_1.default.crypto.hash(tag, \"SHA-384\"));\n    }\n    const tag = common_1.default.utils.concatBuffers([\n        common_1.default.utils.stringToBuffer(\"blob\"),\n        common_1.default.utils.stringToBuffer(data.byteLength.toString()),\n    ]);\n    const taggedHash = common_1.default.utils.concatBuffers([\n        await common_1.default.crypto.hash(tag, \"SHA-384\"),\n        await common_1.default.crypto.hash(data, \"SHA-384\"),\n    ]);\n    return await common_1.default.crypto.hash(taggedHash, \"SHA-384\");\n}\nasync function deepHashChunks(chunks, acc) {\n    if (chunks.length < 1) {\n        return acc;\n    }\n    const hashPair = common_1.default.utils.concatBuffers([\n        acc,\n        await deepHash(chunks[0]),\n    ]);\n    const newAcc = await common_1.default.crypto.hash(hashPair, \"SHA-384\");\n    return await deepHashChunks(chunks.slice(1), newAcc);\n}\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,OAAO,GAAGC,QAAQ;AAC1B,MAAMC,QAAQ,GAAGC,OAAO,CAAC,WAAW,CAAC;AACrC,eAAeF,QAAQA,CAACG,IAAI,EAAE;EAC1B,IAAIC,KAAK,CAACC,OAAO,CAACF,IAAI,CAAC,EAAE;IACrB,MAAMG,GAAG,GAAGL,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACC,aAAa,CAAC,CAC7CP,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACE,cAAc,CAAC,MAAM,CAAC,EAC7CR,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACE,cAAc,CAACN,IAAI,CAACO,MAAM,CAACC,QAAQ,CAAC,CAAC,CAAC,CAChE,CAAC;IACF,OAAO,MAAMC,cAAc,CAACT,IAAI,EAAE,MAAMF,QAAQ,CAACF,OAAO,CAACc,MAAM,CAACC,IAAI,CAACR,GAAG,EAAE,SAAS,CAAC,CAAC;EACzF;EACA,MAAMA,GAAG,GAAGL,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACC,aAAa,CAAC,CAC7CP,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACE,cAAc,CAAC,MAAM,CAAC,EAC7CR,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACE,cAAc,CAACN,IAAI,CAACY,UAAU,CAACJ,QAAQ,CAAC,CAAC,CAAC,CACpE,CAAC;EACF,MAAMK,UAAU,GAAGf,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACC,aAAa,CAAC,CACpD,MAAMP,QAAQ,CAACF,OAAO,CAACc,MAAM,CAACC,IAAI,CAACR,GAAG,EAAE,SAAS,CAAC,EAClD,MAAML,QAAQ,CAACF,OAAO,CAACc,MAAM,CAACC,IAAI,CAACX,IAAI,EAAE,SAAS,CAAC,CACtD,CAAC;EACF,OAAO,MAAMF,QAAQ,CAACF,OAAO,CAACc,MAAM,CAACC,IAAI,CAACE,UAAU,EAAE,SAAS,CAAC;AACpE;AACA,eAAeJ,cAAcA,CAACK,MAAM,EAAEC,GAAG,EAAE;EACvC,IAAID,MAAM,CAACP,MAAM,GAAG,CAAC,EAAE;IACnB,OAAOQ,GAAG;EACd;EACA,MAAMC,QAAQ,GAAGlB,QAAQ,CAACF,OAAO,CAACQ,KAAK,CAACC,aAAa,CAAC,CAClDU,GAAG,EACH,MAAMlB,QAAQ,CAACiB,MAAM,CAAC,CAAC,CAAC,CAAC,CAC5B,CAAC;EACF,MAAMG,MAAM,GAAG,MAAMnB,QAAQ,CAACF,OAAO,CAACc,MAAM,CAACC,IAAI,CAACK,QAAQ,EAAE,SAAS,CAAC;EACtE,OAAO,MAAMP,cAAc,CAACK,MAAM,CAACI,KAAK,CAAC,CAAC,CAAC,EAAED,MAAM,CAAC;AACxD","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}